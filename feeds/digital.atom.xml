<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>GoCalf Blog - 数码电子</title><link href="https://blog.gocalf.com/" rel="alternate"></link><link href="https://blog.gocalf.com/feeds/digital.atom.xml" rel="self"></link><id>https://blog.gocalf.com/</id><updated>2013-07-29T10:13:00+08:00</updated><subtitle>1/100 ALGO&amp;amp;MATH; 1/100 IT&amp;amp;GAME; 1/100 INFO&amp;amp;SHARING; 1/100 WHO KNOWS</subtitle><entry><title>Kindle 4 修砖记</title><link href="https://blog.gocalf.com/fix-bricked-kindle4" rel="alternate"></link><published>2013-07-29T10:13:00+08:00</published><updated>2013-07-29T10:13:00+08:00</updated><author><name>Calf</name></author><id>tag:blog.gocalf.com,2013-07-29:/fix-bricked-kindle4</id><summary type="html">&lt;p class="first last"&gt;入手一年的 Kindle 4 突然变成砖头了，屏幕显示“Your Kindle Needs Repair”，花了大半个晚上的时间才修好它，简单记录一下。&lt;/p&gt;
</summary><content type="html">
&lt;p&gt;入手一年的 Kindle 4 突然不能用了，屏幕显示“Your Kindle Needs
Repair”，原来就是传说中的变成砖头了。&lt;/p&gt;
&lt;p&gt;花了大半个晚上的时间才修好它，简单记录一下。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;先说下机器的情况。这是美版的 Kindle 4 广告版，曾经装过多看，但早就删掉了，现在用的是原生系统，应该是 4.0.1 吧。&lt;/p&gt;
&lt;p&gt;之前都好好的，用多看系统的时候经常死机，后来回到原生系统就不再死机了。最近有一段时间没用，一直扔在抽屉里。那天想用的时候发现一点儿电都没有，于是开始充电。充电的时候手欠，按了电源键想开机，然后就这样了，重启了无数次都没有任何改变。&lt;/p&gt;
&lt;p&gt;搜了一下，好多修砖的攻略都说只适用于装了多看系统的 Kindle，实在没搞明白，想来老外应该不会都用多看吧，那他们怎么修呢？&lt;/p&gt;
&lt;p&gt;修砖需要用到的一些工具，我观察到的都是 Windows 程序，所以一切操作都在 Windows
7 的虚拟机中进行。如果是 Windows XP，可能在驱动方面会稍微麻烦一些。&lt;/p&gt;
&lt;div class="section" id="kindle"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5"&gt;1. 让 Kindle 进入诊断模式&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;工具：Kindle Select Boot，我是在 &lt;a class="reference external" href="http://www.mobileread.com/forums/showthread.php?t=169645"&gt;这里&lt;/a&gt; 下载到的。&lt;/p&gt;
&lt;p&gt;用 USB 先把 Kindle 连接到电脑上（我用的虚拟机，所以还要把设备接到虚拟机里），一直按住 Kindle 底部的电源键，等指示灯熄灭后，不松开电源键按住方向键下（↓），然后松开电源键，再松开方向键。这使得 Kindle 进入了 USB 恢复模式。&lt;/p&gt;
&lt;p&gt;想要知道这个操作是否成功，可以在 Windows 系统的 Device
Manager（硬件管理器）里查看 Human Interface
Devices 下，是否出现了 HID-compliant device。如果还是 USB Human Interface
Device 就得再来一次了。&lt;/p&gt;
&lt;p&gt;运行 KindleSelectBoot 文件包中的 MfgTool.exe，在界面的上半部会看到一个 HID-compliant
device 的信息，在下半部的 Profile 那里选择 Kindle
diags（当时没截图，现在也懒得再折腾一次 Kindle 了）。点击右下角的 Start 按钮，就可以让 Kindle 进入诊断模式。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mmcblk0p1-img-kindle"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6"&gt;2. 将 mmcblk0p1.img 拷贝到 Kindle 中&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;需要下载一个叫做 mmcblk0p1.img 的文件，其实我也不清楚这到底是什么，看起来是个镜像文件。我下载的是 &lt;a class="reference external" href="http://60.211.209.221/cdn.baidupcs.com/file/01589c0ba1f05e9e4f55e35d02ffc05b?xcode=053458c9324860ffda9317ddb745a10aa9749899cf109a05&amp;amp;fid=2601356780-250528-1879823735&amp;amp;time=1374668763&amp;amp;sign=FDTAXER-DCb740ccc5511e5e8fedcff06b081203-7N%2BEg07f9BuUIjG8wPMKIV8gURM%3D&amp;amp;to=cb&amp;amp;fm=N,B,T&amp;amp;expires=8h&amp;amp;rt=sh&amp;amp;r=586640283&amp;amp;logid=1498755034&amp;amp;sh=1&amp;amp;wsiphost=ipdbm"&gt;mmcblk0p1_410.img&lt;/a&gt;（点击下载），RAR 压缩包的大小是 144MB，解压后 358MB。&lt;/p&gt;
&lt;p&gt;在 Kindle 诊断模式菜单中选择“U) USB device
mode”，电脑就会将 Kindle 识别为 U 盘，将下载解压后的 .img 文件拷贝到 Kindle 根目录下。&lt;/p&gt;
&lt;p&gt;虽说整个修砖过程对 Kindle 内的电子书没有影响，我还是趁这个机会赶紧把数据备份了一下。&lt;/p&gt;
&lt;p&gt;拷贝完成后，在 Kindle 上按左方向键退出 U 盘模式，并返回主菜单。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="ssh-kindle"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7"&gt;3. SSH 登录到 Kindle&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;在 SSH 登录之前，先要确认一下 Kindle 系统的版本和序列号（Serial
Number），以便获取 root 密码。系统版本我是没注意到，序列号在 Kindle 诊断模式主菜单第一项里就能找到。&lt;/p&gt;
&lt;p&gt;记下序列号后，在 Kindle 诊断模式菜单中依次选择：“N) Misc individual
diagnostics”、“U) Utilities”、“Z) Enable USBnet”，然后按方向键右键返回。&lt;/p&gt;
&lt;p&gt;在电脑的硬件管理器中可以看到有一个叫 RNDIS\Ethernet
card 的硬件，点击升级驱动，然后选择手动浏览驱动 -&amp;gt; 自选驱动 -&amp;gt; 网络适配器，在厂商中选择“Microsoft
Corporation”，驱动选择“Remote NDIS Compatible
Device”，强制安装驱动即可。（如果是 Windows XP，则需要下载安装 RNDIS
Ethernet 驱动，&lt;a class="reference external" href="http://b.billgong.com/wp-content/uploads/2012/03/RNDIS-Ethernet-Driver.zip"&gt;点此下载&lt;/a&gt;。）&lt;/p&gt;
&lt;p&gt;装好驱动，进入网络中心，看到有一块新的网卡设备。点击右键查看属性，在 IPv4 选项中，将 IP 地址设置为“192.168.15.200”，子网掩码是默认的“255.255.255.0”。&lt;/p&gt;
&lt;p&gt;用 SSH 客户端（我用的是 Putty）登录 Kindle，IP 地址为 192.168.15.244，用户名是 root。密码可以先试试“mario”（针对 4.0 系统），如果不行，就将序列号输入到下面的文本框中得到密码（针对 4.0.1 系统）（若无法显示请猛击 &lt;a class="reference external" href="https://blog.gocalf.com/assets/2013/07/kindle_root_password.html"&gt;这里&lt;/a&gt;）。&lt;/p&gt;
&lt;iframe frameborder="0" height="50" scrolling="no" src="https://blog.gocalf.com/assets/2013/07/kindle_root_password.html" width="100%"&gt;&lt;/iframe&gt;&lt;p&gt;其实 root 密码就是“fiona”加上序列号 MD5 值中的一部分。生成代码如下（Python
2.7.*）：&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;hashlib&lt;/span&gt;
&lt;span class="n"&gt;serial_number&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'USE YOUR OWN SERIAL NUMBER'&lt;/span&gt;
&lt;span class="n"&gt;password&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'fiona&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;hashlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;md5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;serial_number&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hexdigest&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;password&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id8"&gt;4. 进行系统恢复&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;SSH 登录成功后，在终端中运行如下命令来恢复系统（大概需要几分钟的时间）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dd &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/mnt/us/mmcblk0p1_410.img &lt;span class="nv"&gt;of&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/mmcblk0p1 &lt;span class="nv"&gt;bs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;4K
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;成功后，我又运行了另外几个命令以免还是不能重启，有的命令根本就没执行成功，可能要看具体的情况了：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dd &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/zero &lt;span class="nv"&gt;of&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/mmcblk0p3 &lt;span class="nv"&gt;bs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;4K
rm /var/local/system/.framework_reboots
rm /var/local/system/.framework_retries
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id9"&gt;5. 完成&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;这些都弄完了，长按电源键重启 Kindle，终于恢复了。&lt;/p&gt;
&lt;/div&gt;
</content><category term="Kindle"></category></entry><entry><title>iPad 2 iOS 4.3.3 可以越狱了</title><link href="https://blog.gocalf.com/ipad2-433-jailbreak" rel="alternate"></link><published>2011-07-07T14:32:00+08:00</published><updated>2011-08-03T20:41:00+08:00</updated><author><name>Calf</name></author><id>tag:blog.gocalf.com,2011-07-07:/ipad2-433-jailbreak</id><summary type="html">&lt;p class="first last"&gt;iOS 4.3.3 可以越狱了。&lt;/p&gt;
</summary><content type="html">&lt;p&gt;原以为 iPad
2 的越狱会遥遥无期，没想到突然就传出已经可以越狱的消息，大神 Comex 又一次找到了 PDF 漏洞，跟去年的 iPhone4 越狱一样，无需连接电脑只要有 WiFi 就可以。&lt;/p&gt;
&lt;p&gt;不过现在还只有 iOS 4.3.3 可以越狱，低版本没有这个漏洞。低版本的就备份一下 shsh 之后赶紧升级吧。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;步骤非常简单：&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;确认当前固件版本是 iOS 4.3.3 (8J2)（Settings-&amp;gt;General-&amp;gt;About-&amp;gt;Version）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;开启浏览器 Safari。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;在地址栏中敲入 &lt;a class="reference external" href="http://www.jailbreakme.com"&gt;http://www.jailbreakme.com&lt;/a&gt; （上次 iPhone
4 也是这样的），打开页面。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;在左侧 Cydia 图标下方可以看到有个 FREE 按钮（据说以后 iOS 越狱将要收费，似乎看到前兆了），点击。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;FREE 按钮变成 INSTALL，再点击。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Safari 被自动关闭，在桌面上可以看到出现了 Cydia 的图标，并且正在下载中。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;等待下载完成，打开 Cydia，越狱成功。&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;a class="reference external image-reference" href="https://blog.gocalf.com/images/2011/07/cydia-ipad2-ios433.jpg"&gt;&lt;img alt="cydia-ipad2-ios433" src="https://blog.gocalf.com/images/2011/07/cydia-ipad2-ios433-225x300.jpg" /&gt;&lt;/a&gt;
&lt;p class="caption"&gt;Cydia on iPad2 iOS 4.3.3&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;如果想装盗版的软件，可以添加 hackluo.us 源，地址是 &lt;a class="reference external" href="http://cydia.hackluo.us"&gt;http://cydia.hackluo.us&lt;/a&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;在这个源中找到 AppSync for
4.0+，安装即可。&lt;a class="reference external" href="http://bbs.weiphone.com"&gt;weiphone 网&lt;/a&gt; 上说安装威锋源 &lt;a class="reference external" href="http://apt.weiphone.com"&gt;http://apt.weiphone.com&lt;/a&gt; 的 AppSync-for-4.0+，不过很多人都反映这个在安装的时候会出现 Size
Mismatch。我还是推荐从 hackluo.us 源安装。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;另外还可以安装 Installous
4（也在 hackluo.us 源中），利用这个软件就可以方便地搜索、下载、安装和更新盗版的 app 了。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;最后还是要罗嗦一句，提倡正版。大多数 apps 都不贵，如果觉得好就买一个吧。越狱是为了把 iPad 玩的更好，而不仅仅是为了装盗版软件。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content><category term="iOS JailBreak"></category></entry></feed>